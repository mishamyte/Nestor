using Moq;
using Nestor.Contracts;
using NUnit.Framework;
using Serilog;

namespace Nestor.Tests
{
	[TestFixture]
	public class ParserTests
	{
		[Test]
		public void ParserShouldParseValidGetLocalNestsJsonCorrectly()
		{
			var mock = new Mock<INestProvider>();
			mock.Setup(m => m.GetLocalNestsJsonData())
				.ReturnsAsync(@"{""_jsonp"":true,""localFacilities"":[],""localCamps"":[],""isNest"":true,""localMarkers"":{""25799"":{""id"":""25799"",""pokemon_id"":""170"",""s"":""1"",""t"":""1"",""lt"":""50.43909903"",""ln"":""30.55218458"",""is_nest"":1},""36701"":{""id"":""36701"",""pokemon_id"":""118"",""s"":""1"",""t"":""1"",""lt"":""50.47142427"",""ln"":""30.44921458"",""is_nest"":1},""61521"":{""id"":""61521"",""pokemon_id"":""39"",""s"":""1"",""t"":""1"",""lt"":""50.45893158"",""ln"":""30.60632229"",""is_nest"":1},""74100"":{""id"":""74100"",""pokemon_id"":""54"",""s"":""1"",""t"":""2"",""lt"":""50.44273414"",""ln"":""30.50491333"",""is_nest"":1},""74767"":{""id"":""74767"",""pokemon_id"":""77"",""s"":""1"",""t"":""1"",""lt"":""50.44175022"",""ln"":""30.51315308"",""is_nest"":1},""76075"":{""id"":""76075"",""pokemon_id"":""96"",""s"":""1"",""t"":""1"",""lt"":""50.42860211"",""ln"":""30.48731804"",""is_nest"":1},""83807"":{""id"":""83807"",""pokemon_id"":""19"",""s"":""1"",""t"":""1"",""lt"":""50.45213493"",""ln"":""30.52834511"",""is_nest"":1},""87318"":{""id"":""87318"",""pokemon_id"":""152"",""s"":""1"",""t"":""3"",""lt"":""50.44897877"",""ln"":""30.53568363"",""is_nest"":1},""91979"":{""id"":""91979"",""pokemon_id"":""66"",""s"":""1"",""t"":""1"",""lt"":""50.44519383"",""ln"":""30.54104805"",""is_nest"":1},""92825"":{""id"":""92825"",""pokemon_id"":""74"",""s"":""1"",""t"":""2"",""lt"":""50.44712049"",""ln"":""30.45410156"",""is_nest"":1},""98637"":{""id"":""98637"",""pokemon_id"":""163"",""s"":""1"",""t"":""2"",""lt"":""50.45341919"",""ln"":""30.49555779"",""is_nest"":1},""102101"":{""id"":""102101"",""pokemon_id"":""152"",""s"":""1"",""t"":""1"",""lt"":""50.43559006"",""ln"":""30.42891026"",""is_nest"":1},""104744"":{""id"":""104744"",""pokemon_id"":""215"",""s"":""1"",""t"":""2"",""lt"":""50.45658872"",""ln"":""30.45470238"",""is_nest"":1},""108311"":{""id"":""108311"",""pokemon_id"":""158"",""s"":""1"",""t"":""1"",""lt"":""50.45967608"",""ln"":""30.41084290"",""is_nest"":1},""111179"":{""id"":""111179"",""pokemon_id"":""223"",""s"":""1"",""t"":""1"",""lt"":""50.47432289"",""ln"":""30.47652483"",""is_nest"":1},""116452"":{""id"":""116452"",""pokemon_id"":""63"",""s"":""1"",""t"":""1"",""lt"":""50.45396568"",""ln"":""30.38354874"",""is_nest"":1},""126811"":{""id"":""126811"",""pokemon_id"":""124"",""s"":""1"",""t"":""1"",""lt"":""50.46758479"",""ln"":""30.47298431"",""is_nest"":1},""134660"":{""id"":""134660"",""pokemon_id"":""116"",""s"":""1"",""t"":""1"",""lt"":""50.45101458"",""ln"":""30.46045303"",""is_nest"":1},""142551"":{""id"":""142551"",""pokemon_id"":""21"",""s"":""1"",""t"":""1"",""lt"":""50.44013766"",""ln"":""30.37505150"",""is_nest"":1},""142753"":{""id"":""142753"",""pokemon_id"":""120"",""s"":""1"",""t"":""1"",""lt"":""50.43058601"",""ln"":""30.38103841"",""is_nest"":1},""150289"":{""id"":""150289"",""pokemon_id"":""56"",""s"":""1"",""t"":""3"",""lt"":""50.42774093"",""ln"":""30.46603203"",""is_nest"":1},""157753"":{""id"":""157753"",""pokemon_id"":""96"",""s"":""1"",""t"":""2"",""lt"":""50.43070715"",""ln"":""30.64980090"",""is_nest"":1},""162189"":{""id"":""162189"",""pokemon_id"":""81"",""s"":""1"",""t"":""2"",""lt"":""50.46949689"",""ln"":""30.44217110"",""is_nest"":1},""171342"":{""id"":""171342"",""pokemon_id"":""90"",""s"":""1"",""t"":""1"",""lt"":""50.43376543"",""ln"":""30.42701125"",""is_nest"":1},""178024"":{""id"":""178024"",""pokemon_id"":""183"",""s"":""1"",""t"":""1"",""lt"":""50.44714782"",""ln"":""30.57613134"",""is_nest"":1},""190851"":{""id"":""190851"",""pokemon_id"":""23"",""s"":""1"",""t"":""1"",""lt"":""50.44442860"",""ln"":""30.42667866"",""is_nest"":1},""196129"":{""id"":""196129"",""pokemon_id"":""203"",""s"":""1"",""t"":""1"",""lt"":""50.47770541"",""ln"":""30.45506587"",""is_nest"":1},""196662"":{""id"":""196662"",""pokemon_id"":""100"",""s"":""1"",""t"":""1"",""lt"":""50.45484004"",""ln"":""30.50641537"",""is_nest"":1},""211117"":{""id"":""211117"",""pokemon_id"":""133"",""s"":""1"",""t"":""1"",""lt"":""50.49748662"",""ln"":""30.57276249"",""is_nest"":1},""213196"":{""id"":""213196"",""pokemon_id"":""133"",""s"":""1"",""t"":""2"",""lt"":""50.44837757"",""ln"":""30.45869350"",""is_nest"":1},""220318"":{""id"":""220318"",""pokemon_id"":""1"",""s"":""1"",""t"":""2"",""lt"":""50.42749487"",""ln"":""30.63851416"",""is_nest"":1},""220633"":{""id"":""220633"",""pokemon_id"":""104"",""s"":""1"",""t"":""1"",""lt"":""50.42724882"",""ln"":""30.51440835"",""is_nest"":1},""227590"":{""id"":""227590"",""pokemon_id"":""21"",""s"":""1"",""t"":""1"",""lt"":""50.47500057"",""ln"":""30.42333126"",""is_nest"":1},""235240"":{""id"":""235240"",""pokemon_id"":""13"",""s"":""1"",""t"":""1"",""lt"":""50.47277459"",""ln"":""30.39749622"",""is_nest"":1},""266071"":{""id"":""266071"",""pokemon_id"":""27"",""s"":""1"",""t"":""1"",""lt"":""50.42925482"",""ln"":""30.64564884"",""is_nest"":1},""268941"":{""id"":""268941"",""pokemon_id"":""23"",""s"":""1"",""t"":""1"",""lt"":""50.46889824"",""ln"":""30.48603187"",""is_nest"":1}},""t_level"":0}");

			var parser = new Parser(mock.Object);

			var task = parser.GetNests();
			task.Wait();

			var result = task.Result;
			foreach (var nest in result)
			{
				Log.Information($"Id: {nest.Id}\t Pokemon: {nest.PokemonId}");
			}

			Assert.AreEqual(36, result.Count);
		}

		[Test]
		public void ParserShouldExtractMigrationNumberFromValidNestHistoryJsonCorrectly()
		{
			var mock = new Mock<INestProvider>();
			mock.Setup(m => m.GetNestHistoryJsonData())
				.ReturnsAsync(@"{""_jsonp"":true,""verififedAfterLastMigration"":false,""nestHistoryItems"":{""2018-06-14 00:00:00"":{""id"":""55"",""migration_timestamp"":""2018-06-14 00:00:00"",""note"":""55th Great Migration"",""created"":""2018-06-14 00:00:00"",""modified"":""2018-06-14 00:00:00"",""is_verification_report"":0,""created_timestamp"":1528934400,""created_date"":""Jun 14"",""created_year"":""2018""},""2018-06-01 04:00:00"":{""NestVerification"":{""pokemon_id"":""54"",""user_id"":""882518"",""confirmed"":""1"",""visit_duration"":""15"",""count_spotted"":""5"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1527825600,""created_date"":""Jun 1"",""created_year"":""2018"",""display_name"":""weserec""},""User"":{""id"":""882518"",""in_game_username"":""weserec"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""138212"",""user_id"":""882518""}]},""Pokemon"":{""species_id"":""54"",""identifier"":""psyduck"",""type_1_id"":""11"",""type_2_id"":""0"",""id"":""54"",""Type1"":{""id"":""11"",""title"":""water"",""background_hex"":""1073a2"",""background_hex_2"":""70c0f7"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-05-31 00:00:00"":{""id"":""54"",""migration_timestamp"":""2018-05-31 00:00:00"",""note"":""54th Great Migration"",""created"":""2018-05-31 00:00:00"",""modified"":""2018-05-31 00:00:00"",""is_verification_report"":0,""created_timestamp"":1527724800,""created_date"":""May 31"",""created_year"":""2018""},""2018-05-22 04:00:00"":{""NestVerification"":{""pokemon_id"":""96"",""user_id"":""515566"",""confirmed"":""1"",""visit_duration"":""30"",""count_spotted"":""15"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1526961600,""created_date"":""May 22"",""created_year"":""2018"",""display_name"":""Mchlw27""},""User"":{""id"":""515566"",""in_game_username"":""Mchlw27"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""12626"",""user_id"":""515566""}]},""Pokemon"":{""species_id"":""96"",""identifier"":""drowzee"",""type_1_id"":""14"",""type_2_id"":""0"",""id"":""96"",""Type1"":{""id"":""14"",""title"":""psychic"",""background_hex"":""8845c6"",""background_hex_2"":""e06dd7"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-05-17 00:00:00"":{""id"":""53"",""migration_timestamp"":""2018-05-17 00:00:00"",""note"":""53rd Great Migration"",""created"":""2018-05-17 00:00:00"",""modified"":""2018-05-17 00:00:00"",""is_verification_report"":0,""created_timestamp"":1526515200,""created_date"":""May 17"",""created_year"":""2018""},""2018-05-05 21:52:32"":{""NestVerification"":{""pokemon_id"":""66"",""user_id"":""883164"",""confirmed"":""1"",""visit_duration"":""15"",""count_spotted"":""5"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1525557152,""created_date"":""May 5"",""created_year"":""2018"",""display_name"":""Archibias""},""User"":{""id"":""883164"",""in_game_username"":""Archibias"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""138710"",""user_id"":""883164""}]},""Pokemon"":{""species_id"":""66"",""identifier"":""machop"",""type_1_id"":""2"",""type_2_id"":""0"",""id"":""66"",""Type1"":{""id"":""2"",""title"":""fighting"",""background_hex"":""f3a32a"",""background_hex_2"":""ffe0a7"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-05-03 00:00:00"":{""id"":""52"",""migration_timestamp"":""2018-05-03 00:00:00"",""note"":""52nd Great Migration"",""created"":""2018-05-03 00:00:00"",""modified"":""2018-05-03 00:00:00"",""is_verification_report"":0,""created_timestamp"":1525305600,""created_date"":""May 3"",""created_year"":""2018""},""2018-05-01 04:00:00"":{""NestVerification"":{""pokemon_id"":""127"",""user_id"":""882518"",""confirmed"":""1"",""visit_duration"":""30"",""count_spotted"":""5"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1525147200,""created_date"":""May 1"",""created_year"":""2018"",""display_name"":""weserec""},""User"":{""id"":""882518"",""in_game_username"":""weserec"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""138212"",""user_id"":""882518""}]},""Pokemon"":{""species_id"":""127"",""identifier"":""pinsir"",""type_1_id"":""7"",""type_2_id"":""0"",""id"":""127"",""Type1"":{""id"":""7"",""title"":""bug"",""background_hex"":""b3d76e"",""background_hex_2"":""eef76f"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-04-22 02:45:04"":{""NestVerification"":{""pokemon_id"":""127"",""user_id"":""2065"",""confirmed"":""1"",""visit_duration"":""15"",""count_spotted"":""4"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1524365104,""created_date"":""Apr 22"",""created_year"":""2018"",""display_name"":""sykesam""},""User"":{""id"":""2065"",""in_game_username"":""sykesam"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""31952"",""user_id"":""2065""}]},""Pokemon"":{""species_id"":""127"",""identifier"":""pinsir"",""type_1_id"":""7"",""type_2_id"":""0"",""id"":""127"",""Type1"":{""id"":""7"",""title"":""bug"",""background_hex"":""b3d76e"",""background_hex_2"":""eef76f"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-04-20 23:26:01"":{""NestVerification"":{""pokemon_id"":""127"",""user_id"":""800670"",""confirmed"":""1"",""visit_duration"":""60"",""count_spotted"":""20"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1524266761,""created_date"":""Apr 20"",""created_year"":""2018"",""display_name"":""Ganondorf125""},""User"":{""id"":""800670"",""in_game_username"":""Ganondorf125"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""73217"",""user_id"":""800670""}]},""Pokemon"":{""species_id"":""127"",""identifier"":""pinsir"",""type_1_id"":""7"",""type_2_id"":""0"",""id"":""127"",""Type1"":{""id"":""7"",""title"":""bug"",""background_hex"":""b3d76e"",""background_hex_2"":""eef76f"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-04-19 00:00:00"":{""id"":""51"",""migration_timestamp"":""2018-04-19 00:00:00"",""note"":""51st Great Migration"",""created"":""2018-04-19 00:00:00"",""modified"":""2018-04-19 00:00:00"",""is_verification_report"":0,""created_timestamp"":1524096000,""created_date"":""Apr 19"",""created_year"":""2018""},""2018-04-05 00:35:21"":{""NestVerification"":{""pokemon_id"":""95"",""user_id"":""800670"",""confirmed"":""1"",""visit_duration"":""15"",""count_spotted"":""3"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1522888521,""created_date"":""Apr 5"",""created_year"":""2018"",""display_name"":""Ganondorf125""},""User"":{""id"":""800670"",""in_game_username"":""Ganondorf125"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""73217"",""user_id"":""800670""}]},""Pokemon"":{""species_id"":""95"",""identifier"":""onix"",""type_1_id"":""6"",""type_2_id"":""5"",""id"":""95"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-04-05 00:24:07"":{""NestVerification"":{""pokemon_id"":""95"",""user_id"":""529343"",""confirmed"":""1"",""visit_duration"":""0"",""count_spotted"":""0"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1522887847,""created_date"":""Apr 5"",""created_year"":""2018"",""display_name"":""mattpa3190""},""User"":{""id"":""529343"",""in_game_username"":""mattpa3190"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""18601"",""user_id"":""529343""}]},""Pokemon"":{""species_id"":""95"",""identifier"":""onix"",""type_1_id"":""6"",""type_2_id"":""5"",""id"":""95"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-04-05 00:00:00"":{""id"":""50"",""migration_timestamp"":""2018-04-05 00:00:00"",""note"":""50th Great Migration"",""created"":""2018-04-05 00:00:00"",""modified"":""2018-04-05 00:00:00"",""is_verification_report"":0,""created_timestamp"":1522886400,""created_date"":""Apr 5"",""created_year"":""2018""},""2018-03-30 22:40:34"":{""NestVerification"":{""pokemon_id"":""111"",""user_id"":""514548"",""confirmed"":""1"",""visit_duration"":""45"",""count_spotted"":""5"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1522449634,""created_date"":""Mar 30"",""created_year"":""2018"",""display_name"":""Serzy""},""User"":{""id"":""514548"",""in_game_username"":""Serzy"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""6779"",""user_id"":""514548""}]},""Pokemon"":{""species_id"":""111"",""identifier"":""rhyhorn"",""type_1_id"":""5"",""type_2_id"":""6"",""id"":""111"",""Type1"":{""id"":""5"",""title"":""ground"",""background_hex"":""967b4b"",""background_hex_2"":""dab679"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-03-26 02:05:37"":{""NestVerification"":{""pokemon_id"":""111"",""user_id"":""724842"",""confirmed"":""1"",""visit_duration"":""15"",""count_spotted"":""7"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1522029937,""created_date"":""Mar 26"",""created_year"":""2018"",""display_name"":""ThatdudeJLP""},""User"":{""id"":""724842"",""in_game_username"":""ThatdudeJLP"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""10190"",""user_id"":""724842""}]},""Pokemon"":{""species_id"":""111"",""identifier"":""rhyhorn"",""type_1_id"":""5"",""type_2_id"":""6"",""id"":""111"",""Type1"":{""id"":""5"",""title"":""ground"",""background_hex"":""967b4b"",""background_hex_2"":""dab679"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-03-23 01:55:40"":{""NestVerification"":{""pokemon_id"":""111"",""user_id"":""825940"",""confirmed"":""1"",""visit_duration"":""30"",""count_spotted"":""6"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1521770140,""created_date"":""Mar 23"",""created_year"":""2018"",""display_name"":""Traveler #C9A54""},""User"":{""id"":""825940"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""111"",""identifier"":""rhyhorn"",""type_1_id"":""5"",""type_2_id"":""6"",""id"":""111"",""Type1"":{""id"":""5"",""title"":""ground"",""background_hex"":""967b4b"",""background_hex_2"":""dab679"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-03-22 00:00:00"":{""id"":""49"",""migration_timestamp"":""2018-03-22 00:00:00"",""note"":""49th Great Migration"",""created"":""2018-03-22 00:00:00"",""modified"":""2018-03-22 00:00:00"",""is_verification_report"":0,""created_timestamp"":1521676800,""created_date"":""Mar 22"",""created_year"":""2018""},""2018-03-08 00:00:00"":{""id"":""48"",""migration_timestamp"":""2018-03-08 00:00:00"",""note"":""48th Great Migration"",""created"":""2018-03-08 00:00:00"",""modified"":""2018-03-08 00:00:00"",""is_verification_report"":0,""created_timestamp"":1520467200,""created_date"":""Mar 8"",""created_year"":""2018""},""2018-03-04 23:20:01"":{""NestVerification"":{""pokemon_id"":""355"",""user_id"":""795650"",""confirmed"":""1"",""visit_duration"":""15"",""count_spotted"":""4"",""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1520205601,""created_date"":""Mar 4"",""created_year"":""2018"",""display_name"":""WaveGD""},""User"":{""id"":""795650"",""in_game_username"":""WaveGD"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""68672"",""user_id"":""795650""}]},""Pokemon"":{""species_id"":""355"",""identifier"":""duskull"",""type_1_id"":""8"",""type_2_id"":""0"",""id"":""355"",""Type1"":{""id"":""8"",""title"":""ghost"",""background_hex"":""46345e"",""background_hex_2"":""b48fc1"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2018-02-22 00:00:00"":{""id"":""47"",""migration_timestamp"":""2018-02-22 00:00:00"",""note"":""47th Great Migration"",""created"":""2018-02-22 00:00:00"",""modified"":""2018-02-22 00:00:00"",""is_verification_report"":0,""created_timestamp"":1519257600,""created_date"":""Feb 22"",""created_year"":""2018""},""2018-02-13 21:00:00"":{""id"":""46"",""migration_timestamp"":""2018-02-13 21:00:00"",""note"":""Valentine's Event Migration"",""created"":""2018-02-13 21:00:00"",""modified"":""2018-02-13 21:00:00"",""is_verification_report"":0,""created_timestamp"":1518555600,""created_date"":""Feb 13"",""created_year"":""2018""},""2018-02-09 21:00:00"":{""id"":""45"",""migration_timestamp"":""2018-02-09 21:00:00"",""note"":""Hoenn Sky Wave"",""created"":""2018-02-09 21:00:00"",""modified"":""2018-02-09 21:00:00"",""is_verification_report"":0,""created_timestamp"":1518210000,""created_date"":""Feb 9"",""created_year"":""2018""},""2018-02-08 00:00:00"":{""id"":""44"",""migration_timestamp"":""2018-02-08 00:00:00"",""note"":""44th Great Migration"",""created"":""2018-02-08 00:00:00"",""modified"":""2018-02-08 00:00:00"",""is_verification_report"":0,""created_timestamp"":1518048000,""created_date"":""Feb 8"",""created_year"":""2018""},""2018-01-25 00:00:00"":{""id"":""43"",""migration_timestamp"":""2018-01-25 00:00:00"",""note"":""43rd Great Migration"",""created"":""2018-01-25 00:00:00"",""modified"":""2018-01-25 00:00:00"",""is_verification_report"":0,""created_timestamp"":1516838400,""created_date"":""Jan 25"",""created_year"":""2018""},""2018-01-23 21:00:00"":{""id"":""42"",""migration_timestamp"":""2018-01-23 21:00:00"",""note"":""Hoenn Land Wave Migration"",""created"":""2018-01-23 21:00:00"",""modified"":""2018-01-23 21:00:00"",""is_verification_report"":0,""created_timestamp"":1516741200,""created_date"":""Jan 23"",""created_year"":""2018""},""2018-01-11 00:00:00"":{""id"":""41"",""migration_timestamp"":""2018-01-11 00:00:00"",""note"":""41st Great Migration"",""created"":""2018-01-11 00:00:00"",""modified"":""2018-01-11 00:00:00"",""is_verification_report"":0,""created_timestamp"":1515628800,""created_date"":""Jan 11"",""created_year"":""2018""},""2017-12-28 00:00:00"":{""id"":""40"",""migration_timestamp"":""2017-12-28 00:00:00"",""note"":""40th Great Migration"",""created"":""2017-12-28 00:00:00"",""modified"":""2017-12-28 00:00:00"",""is_verification_report"":0,""created_timestamp"":1514419200,""created_date"":""Dec 28"",""created_year"":""2017""},""2017-12-21 21:00:00"":{""id"":""39"",""migration_timestamp"":""2017-12-21 21:00:00"",""note"":""Holiday Hoenn Migration"",""created"":""2017-12-21 21:00:00"",""modified"":""2017-12-21 21:00:00"",""is_verification_report"":0,""created_timestamp"":1513890000,""created_date"":""Dec 21"",""created_year"":""2017""},""2017-12-14 00:00:00"":{""id"":""38"",""migration_timestamp"":""2017-12-14 00:00:00"",""note"":""38th Great Migration"",""created"":""2017-12-14 00:00:00"",""modified"":""2017-12-14 00:00:00"",""is_verification_report"":0,""created_timestamp"":1513209600,""created_date"":""Dec 14"",""created_year"":""2017""},""2017-12-08 20:00:00"":{""id"":""37"",""migration_timestamp"":""2017-12-08 20:00:00"",""note"":""Hoenn Pokemon Migration"",""created"":""2017-12-08 20:00:00"",""modified"":""2017-12-08 20:00:00"",""is_verification_report"":0,""created_timestamp"":1512763200,""created_date"":""Dec 8"",""created_year"":""2017""},""2017-11-30 00:00:00"":{""id"":""36"",""migration_timestamp"":""2017-11-30 00:00:00"",""note"":""36th Great Migration"",""created"":""2017-11-30 00:00:00"",""modified"":""2017-11-30 00:00:00"",""is_verification_report"":0,""created_timestamp"":1512000000,""created_date"":""Nov 30"",""created_year"":""2017""},""2017-11-16 00:00:00"":{""id"":""35"",""migration_timestamp"":""2017-11-16 00:00:00"",""note"":""35th Great Migration"",""created"":""2017-11-16 00:00:00"",""modified"":""2017-11-16 00:00:00"",""is_verification_report"":0,""created_timestamp"":1510790400,""created_date"":""Nov 16"",""created_year"":""2017""},""2017-11-02 00:00:00"":{""id"":""34"",""migration_timestamp"":""2017-11-02 00:00:00"",""note"":""34th Great Migration"",""created"":""2017-11-02 00:00:00"",""modified"":""2017-11-02 00:00:00"",""is_verification_report"":0,""created_timestamp"":1509580800,""created_date"":""Nov 2"",""created_year"":""2017""},""2017-10-20 19:00:00"":{""id"":""33"",""migration_timestamp"":""2017-10-20 19:00:00"",""note"":""Halloween Event (33rd Migration)"",""created"":""2017-10-20 19:00:00"",""modified"":""2017-10-20 19:00:00"",""is_verification_report"":0,""created_timestamp"":1508526000,""created_date"":""Oct 20"",""created_year"":""2017""},""2017-10-19 00:00:00"":{""id"":""32"",""migration_timestamp"":""2017-10-19 00:00:00"",""note"":""32nd Great Migration"",""created"":""2017-10-19 00:00:00"",""modified"":""2017-10-19 00:00:00"",""is_verification_report"":0,""created_timestamp"":1508371200,""created_date"":""Oct 19"",""created_year"":""2017""},""2017-10-05 00:00:00"":{""id"":""31"",""migration_timestamp"":""2017-10-05 00:00:00"",""note"":""31st Great Migration"",""created"":""2017-10-05 00:00:00"",""modified"":""2017-10-05 00:00:00"",""is_verification_report"":0,""created_timestamp"":1507161600,""created_date"":""Oct 5"",""created_year"":""2017""},""2017-09-21 00:00:00"":{""id"":""30"",""migration_timestamp"":""2017-09-21 00:00:00"",""note"":""30th Great Migratrion"",""created"":""2017-09-21 00:00:00"",""modified"":""2017-09-21 00:00:00"",""is_verification_report"":0,""created_timestamp"":1505952000,""created_date"":""Sep 21"",""created_year"":""2017""},""2017-09-07 00:00:00"":{""id"":""29"",""migration_timestamp"":""2017-09-07 00:00:00"",""note"":""29th Great Migration"",""created"":""2017-09-07 00:00:00"",""modified"":""2017-09-07 00:00:00"",""is_verification_report"":0,""created_timestamp"":1504742400,""created_date"":""Sep 7"",""created_year"":""2017""},""2017-08-24 00:00:00"":{""id"":""28"",""migration_timestamp"":""2017-08-24 00:00:00"",""note"":""28th Great Migration"",""created"":""2017-08-24 00:00:00"",""modified"":""2017-08-24 00:00:00"",""is_verification_report"":0,""created_timestamp"":1503532800,""created_date"":""Aug 24"",""created_year"":""2017""},""2017-08-10 00:00:00"":{""id"":""27"",""migration_timestamp"":""2017-08-10 00:00:00"",""note"":""27th Great Migration"",""created"":""2017-08-10 00:00:00"",""modified"":""2017-08-10 00:00:00"",""is_verification_report"":0,""created_timestamp"":1502323200,""created_date"":""Aug 10"",""created_year"":""2017""},""2017-07-27 00:00:00"":{""id"":""26"",""migration_timestamp"":""2017-07-27 00:00:00"",""note"":""26th Great Migration"",""created"":""2017-07-27 00:00:00"",""modified"":""2017-07-27 00:00:00"",""is_verification_report"":0,""created_timestamp"":1501113600,""created_date"":""Jul 27"",""created_year"":""2017""},""2017-07-13 00:00:00"":{""id"":""25"",""migration_timestamp"":""2017-07-13 00:00:00"",""note"":""25th Great Migration"",""created"":""2017-07-13 00:00:00"",""modified"":""2017-07-13 00:00:00"",""is_verification_report"":0,""created_timestamp"":1499904000,""created_date"":""Jul 13"",""created_year"":""2017""},""2017-06-29 00:00:00"":{""id"":""24"",""migration_timestamp"":""2017-06-29 00:00:00"",""note"":""24th Great Migration"",""created"":""2017-06-29 00:00:00"",""modified"":""2017-06-29 00:00:00"",""is_verification_report"":0,""created_timestamp"":1498694400,""created_date"":""Jun 29"",""created_year"":""2017""},""2017-06-15 00:00:00"":{""id"":""23"",""migration_timestamp"":""2017-06-15 00:00:00"",""note"":""23rd Great Migration"",""created"":""2017-06-15 00:00:00"",""modified"":""2017-06-15 00:00:00"",""is_verification_report"":0,""created_timestamp"":1497484800,""created_date"":""Jun 15"",""created_year"":""2017""},""2017-06-01 00:00:00"":{""id"":""22"",""migration_timestamp"":""2017-06-01 00:00:00"",""note"":""22nd Great Migration"",""created"":""2017-06-01 00:00:00"",""modified"":""2017-06-01 00:00:00"",""is_verification_report"":0,""created_timestamp"":1496275200,""created_date"":""Jun 1"",""created_year"":""2017""},""2017-05-18 00:00:00"":{""id"":""21"",""migration_timestamp"":""2017-05-18 00:00:00"",""note"":""21st Great Migration"",""created"":""2017-05-18 00:00:00"",""modified"":""2017-05-18 00:00:00"",""is_verification_report"":0,""created_timestamp"":1495065600,""created_date"":""May 18"",""created_year"":""2017""},""2017-05-04 00:00:00"":{""id"":""20"",""migration_timestamp"":""2017-05-04 00:00:00"",""note"":""20th Great Migration"",""created"":""2017-05-04 00:00:00"",""modified"":""2017-05-04 00:00:00"",""is_verification_report"":0,""created_timestamp"":1493856000,""created_date"":""May 4"",""created_year"":""2017""},""2017-04-20 00:00:00"":{""id"":""19"",""migration_timestamp"":""2017-04-20 00:00:00"",""note"":""19th Great Migration"",""created"":""2017-04-20 00:00:00"",""modified"":""2017-04-20 00:00:00"",""is_verification_report"":0,""created_timestamp"":1492646400,""created_date"":""Apr 20"",""created_year"":""2017""},""2017-04-06 00:00:00"":{""id"":""18"",""migration_timestamp"":""2017-04-06 00:00:00"",""note"":""18th Great Migration"",""created"":""2017-04-06 00:00:00"",""modified"":""2017-04-06 00:00:00"",""is_verification_report"":0,""created_timestamp"":1491436800,""created_date"":""Apr 6"",""created_year"":""2017""},""2017-03-23 00:00:00"":{""id"":""17"",""migration_timestamp"":""2017-03-23 00:00:00"",""note"":""17th Great Migration"",""created"":""2017-03-23 00:00:00"",""modified"":""2017-03-23 00:00:00"",""is_verification_report"":0,""created_timestamp"":1490227200,""created_date"":""Mar 23"",""created_year"":""2017""},""2017-03-09 00:00:00"":{""id"":""16"",""migration_timestamp"":""2017-03-09 00:00:00"",""note"":""16th Great Migration"",""created"":""2017-03-09 00:00:00"",""modified"":""2017-03-09 00:00:00"",""is_verification_report"":0,""created_timestamp"":1489017600,""created_date"":""Mar 9"",""created_year"":""2017""},""2017-02-23 00:00:00"":{""id"":""15"",""migration_timestamp"":""2017-02-23 00:00:00"",""note"":""15th Great Migration"",""created"":""2017-02-23 00:00:00"",""modified"":""2017-02-23 00:00:00"",""is_verification_report"":0,""created_timestamp"":1487808000,""created_date"":""Feb 23"",""created_year"":""2017""},""2017-02-16 23:00:00"":{""id"":""14"",""migration_timestamp"":""2017-02-16 23:00:00"",""note"":""Johto Pokemon Launch (Gen 2)"",""created"":""2017-02-16 23:00:00"",""modified"":""2017-02-16 23:00:00"",""is_verification_report"":0,""created_timestamp"":1487286000,""created_date"":""Feb 16"",""created_year"":""2017""},""2017-02-09 00:00:00"":{""id"":""13"",""migration_timestamp"":""2017-02-09 00:00:00"",""note"":""13th Great Migration"",""created"":""2017-02-09 00:00:00"",""modified"":""2017-02-09 00:00:00"",""is_verification_report"":0,""created_timestamp"":1486598400,""created_date"":""Feb 9"",""created_year"":""2017""},""2017-01-26 00:00:00"":{""id"":""12"",""migration_timestamp"":""2017-01-26 00:00:00"",""note"":""12th Great Migration"",""created"":""2017-01-26 00:00:00"",""modified"":""2017-01-26 00:00:00"",""is_verification_report"":0,""created_timestamp"":1485388800,""created_date"":""Jan 26"",""created_year"":""2017""},""2017-01-12 00:00:00"":{""id"":""11"",""migration_timestamp"":""2017-01-12 00:00:00"",""note"":""11th Great Migration"",""created"":""2017-01-12 00:00:00"",""modified"":""2017-01-12 00:00:00"",""is_verification_report"":0,""created_timestamp"":1484179200,""created_date"":""Jan 12"",""created_year"":""2017""},""2016-12-29 00:00:00"":{""id"":""10"",""migration_timestamp"":""2016-12-29 00:00:00"",""note"":""10th Great Migration"",""created"":""2016-12-29 00:00:00"",""modified"":""2016-12-29 00:00:00"",""is_verification_report"":0,""created_timestamp"":1482969600,""created_date"":""Dec 29"",""created_year"":""2016""},""2016-12-16 06:19:13"":{""NestVerification"":{""pokemon_id"":""111"",""user_id"":""175844"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1481869153,""created_date"":""Dec 16"",""created_year"":""2016"",""display_name"":""Traveler #2AEE4""},""User"":{""id"":""175844"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""111"",""identifier"":""rhyhorn"",""type_1_id"":""5"",""type_2_id"":""6"",""id"":""111"",""Type1"":{""id"":""5"",""title"":""ground"",""background_hex"":""967b4b"",""background_hex_2"":""dab679"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-12-15 00:00:00"":{""id"":""9"",""migration_timestamp"":""2016-12-15 00:00:00"",""note"":""9th Great Migration"",""created"":""2016-12-15 00:00:00"",""modified"":""2016-12-15 00:00:00"",""is_verification_report"":0,""created_timestamp"":1481760000,""created_date"":""Dec 15"",""created_year"":""2016""},""2016-12-12 05:00:00"":{""NestVerification"":{""pokemon_id"":""111"",""user_id"":""496952"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1481518800,""created_date"":""Dec 12"",""created_year"":""2016"",""display_name"":""Traveler #79538""},""User"":{""id"":""496952"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""111"",""identifier"":""rhyhorn"",""type_1_id"":""5"",""type_2_id"":""6"",""id"":""111"",""Type1"":{""id"":""5"",""title"":""ground"",""background_hex"":""967b4b"",""background_hex_2"":""dab679"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-12-01 00:00:00"":{""id"":""8"",""migration_timestamp"":""2016-12-01 00:00:00"",""note"":""8th Great Migration"",""created"":""2016-12-01 00:00:00"",""modified"":""2016-12-01 00:00:00"",""is_verification_report"":0,""created_timestamp"":1480550400,""created_date"":""Dec 1"",""created_year"":""2016""},""2016-11-23 05:00:00"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""496952"",""confirmed"":""0"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1479877200,""created_date"":""Nov 23"",""created_year"":""2016"",""display_name"":""Traveler #79538""},""User"":{""id"":""496952"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-17 19:57:40"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""383524"",""confirmed"":""0"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1479412660,""created_date"":""Nov 17"",""created_year"":""2016"",""display_name"":""AschKatze""},""User"":{""id"":""383524"",""in_game_username"":""AschKatze"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""50045"",""user_id"":""383524""}]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-17 18:17:25"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""498807"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1479406645,""created_date"":""Nov 17"",""created_year"":""2016"",""display_name"":""Traveler #79C77""},""User"":{""id"":""498807"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-17 00:10:00"":{""id"":""7"",""migration_timestamp"":""2016-11-17 00:10:00"",""note"":""7th Great Migration"",""created"":""2016-11-17 00:10:00"",""modified"":""2016-11-17 00:10:00"",""is_verification_report"":0,""created_timestamp"":1479341400,""created_date"":""Nov 17"",""created_year"":""2016""},""2016-11-06 20:01:38"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""227595"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1478462498,""created_date"":""Nov 6"",""created_year"":""2016"",""display_name"":""Traveler #3790B""},""User"":{""id"":""227595"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-06 02:43:40"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""354040"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1478400220,""created_date"":""Nov 6"",""created_year"":""2016"",""display_name"":""Traveler #566F8""},""User"":{""id"":""354040"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-03 23:44:05"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""375722"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1478216645,""created_date"":""Nov 3"",""created_year"":""2016"",""display_name"":""Traveler #5BBAA""},""User"":{""id"":""375722"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-03 22:58:57"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""482875"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1478213937,""created_date"":""Nov 3"",""created_year"":""2016"",""display_name"":""Traveler #75E3B""},""User"":{""id"":""482875"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-03 12:35:30"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""436984"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1478176530,""created_date"":""Nov 3"",""created_year"":""2016"",""display_name"":""Traveler #6AAF8""},""User"":{""id"":""436984"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-03 03:02:05"":{""NestVerification"":{""pokemon_id"":""138"",""user_id"":""23137"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1478142125,""created_date"":""Nov 3"",""created_year"":""2016"",""display_name"":""Traveler #5A61""},""User"":{""id"":""23137"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""138"",""identifier"":""omanyte"",""type_1_id"":""6"",""type_2_id"":""11"",""id"":""138"",""Type1"":{""id"":""6"",""title"":""rock"",""background_hex"":""959ca6"",""background_hex_2"":""dedede"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-11-03 00:10:00"":{""id"":""6"",""migration_timestamp"":""2016-11-03 00:10:00"",""note"":""6th Great Migration"",""created"":""2016-11-03 00:10:00"",""modified"":""2016-11-03 00:10:00"",""is_verification_report"":0,""created_timestamp"":1478131800,""created_date"":""Nov 3"",""created_year"":""2016""},""2016-11-02 12:16:13"":{""NestVerification"":{""pokemon_id"":""133"",""user_id"":""74283"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1478088973,""created_date"":""Nov 2"",""created_year"":""2016"",""display_name"":""Traveler #1222B""},""User"":{""id"":""74283"",""in_game_username"":""NakGod"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""0"",""id"":""3124"",""user_id"":""74283""}]},""Pokemon"":{""species_id"":""133"",""identifier"":""eevee"",""type_1_id"":""1"",""type_2_id"":""0"",""id"":""133"",""Type1"":{""id"":""1"",""title"":""normal"",""background_hex"":""deb19c"",""background_hex_2"":""fff2c0"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-10-30 11:44:03"":{""NestVerification"":{""pokemon_id"":""1"",""user_id"":""354040"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1477827843,""created_date"":""Oct 30"",""created_year"":""2016"",""display_name"":""Traveler #566F8""},""User"":{""id"":""354040"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""1"",""identifier"":""bulbasaur"",""type_1_id"":""12"",""type_2_id"":""4"",""id"":""1"",""Type1"":{""id"":""12"",""title"":""grass"",""background_hex"":""2ecc71"",""background_hex_2"":""a9f712"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-10-20 00:30:00"":{""id"":""5"",""migration_timestamp"":""2016-10-20 00:30:00"",""note"":""5th Great Migration"",""created"":""2016-10-20 00:30:00"",""modified"":""2016-10-20 00:30:00"",""is_verification_report"":0,""created_timestamp"":1476923400,""created_date"":""Oct 20"",""created_year"":""2016""},""2016-10-07 13:08:34"":{""NestVerification"":{""pokemon_id"":""1"",""user_id"":""456444"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1475845714,""created_date"":""Oct 7"",""created_year"":""2016"",""display_name"":""Traveler #6F6FC""},""User"":{""id"":""456444"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""1"",""identifier"":""bulbasaur"",""type_1_id"":""12"",""type_2_id"":""4"",""id"":""1"",""Type1"":{""id"":""12"",""title"":""grass"",""background_hex"":""2ecc71"",""background_hex_2"":""a9f712"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-10-06 00:30:00"":{""id"":""4"",""migration_timestamp"":""2016-10-06 00:30:00"",""note"":""4th Great Migration"",""created"":""2016-10-06 00:30:00"",""modified"":""2016-10-06 00:30:00"",""is_verification_report"":0,""created_timestamp"":1475713800,""created_date"":""Oct 6"",""created_year"":""2016""},""2016-10-05 00:38:25"":{""NestVerification"":{""pokemon_id"":""1"",""user_id"":""456444"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1475627905,""created_date"":""Oct 5"",""created_year"":""2016"",""display_name"":""Traveler #6F6FC""},""User"":{""id"":""456444"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""1"",""identifier"":""bulbasaur"",""type_1_id"":""12"",""type_2_id"":""4"",""id"":""1"",""Type1"":{""id"":""12"",""title"":""grass"",""background_hex"":""2ecc71"",""background_hex_2"":""a9f712"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-09-29 19:38:58"":{""NestVerification"":{""pokemon_id"":""1"",""user_id"":""383524"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1475177938,""created_date"":""Sep 29"",""created_year"":""2016"",""display_name"":""AschKatze""},""User"":{""id"":""383524"",""in_game_username"":""AschKatze"",""is_nest_scout"":""0"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""50045"",""user_id"":""383524""}]},""Pokemon"":{""species_id"":""1"",""identifier"":""bulbasaur"",""type_1_id"":""12"",""type_2_id"":""4"",""id"":""1"",""Type1"":{""id"":""12"",""title"":""grass"",""background_hex"":""2ecc71"",""background_hex_2"":""a9f712"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-09-29 02:00:32"":{""NestVerification"":{""pokemon_id"":""1"",""user_id"":""375722"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""0"",""is_repeater"":""1"",""created_timestamp"":1475114432,""created_date"":""Sep 29"",""created_year"":""2016"",""display_name"":""Traveler #5BBAA""},""User"":{""id"":""375722"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""1"",""identifier"":""bulbasaur"",""type_1_id"":""12"",""type_2_id"":""4"",""id"":""1"",""Type1"":{""id"":""12"",""title"":""grass"",""background_hex"":""2ecc71"",""background_hex_2"":""a9f712"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-09-27 14:11:26"":{""NestVerification"":{""pokemon_id"":""1"",""user_id"":""79505"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1474985486,""created_date"":""Sep 27"",""created_year"":""2016"",""display_name"":""Traveler #13691""},""User"":{""id"":""79505"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""1"",""identifier"":""bulbasaur"",""type_1_id"":""12"",""type_2_id"":""4"",""id"":""1"",""Type1"":{""id"":""12"",""title"":""grass"",""background_hex"":""2ecc71"",""background_hex_2"":""a9f712"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-09-27 05:29:02"":{""NestVerification"":{""pokemon_id"":""1"",""user_id"":""181932"",""confirmed"":""1"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""0"",""is_area"":""1"",""is_repeater"":""0"",""created_timestamp"":1474954142,""created_date"":""Sep 27"",""created_year"":""2016"",""display_name"":""dronpes""},""User"":{""id"":""181932"",""in_game_username"":""dronpes"",""is_nest_scout"":""1"",""TravelersCard"":[{""show_trainer_name"":""1"",""id"":""5"",""user_id"":""181932""}]},""Pokemon"":{""species_id"":""1"",""identifier"":""bulbasaur"",""type_1_id"":""12"",""type_2_id"":""4"",""id"":""1"",""Type1"":{""id"":""12"",""title"":""grass"",""background_hex"":""2ecc71"",""background_hex_2"":""a9f712"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-09-26 22:30:00"":{""id"":""3"",""migration_timestamp"":""2016-09-26 22:30:00"",""note"":""3rd Great Migration"",""created"":""2016-09-26 22:30:00"",""modified"":""2016-09-26 22:30:00"",""is_verification_report"":0,""created_timestamp"":1474929000,""created_date"":""Sep 26"",""created_year"":""2016""},""2016-08-22 23:00:00"":{""id"":""2"",""migration_timestamp"":""2016-08-22 23:00:00"",""note"":""2nd Great Migration"",""created"":""2016-08-22 23:00:00"",""modified"":""2016-08-22 23:00:00"",""is_verification_report"":0,""created_timestamp"":1471906800,""created_date"":""Aug 22"",""created_year"":""2016""},""2016-07-30 03:38:22"":{""NestVerification"":{""pokemon_id"":""77"",""user_id"":""71901"",""confirmed"":""0"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1469849902,""created_date"":""Jul 30"",""created_year"":""2016"",""display_name"":""Traveler #118DD""},""User"":{""id"":""71901"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""77"",""identifier"":""ponyta"",""type_1_id"":""10"",""type_2_id"":""0"",""id"":""77"",""Type1"":{""id"":""10"",""title"":""fire"",""background_hex"":""e65822"",""background_hex_2"":""ffff00"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1},""2016-07-29 15:00:00"":{""id"":""1"",""migration_timestamp"":""2016-07-29 15:00:00"",""note"":""1st Great Migration"",""created"":""2016-07-29 15:00:00"",""modified"":""2016-07-29 15:00:00"",""is_verification_report"":0,""created_timestamp"":1469804400,""created_date"":""Jul 29"",""created_year"":""2016""},""2016-07-28 20:50:18"":{""NestVerification"":{""pokemon_id"":""77"",""user_id"":""68133"",""confirmed"":""0"",""visit_duration"":null,""count_spotted"":null,""is_cluster"":""1"",""is_area"":""0"",""is_repeater"":""0"",""created_timestamp"":1469739018,""created_date"":""Jul 28"",""created_year"":""2016"",""display_name"":""Traveler #10A25""},""User"":{""id"":""68133"",""in_game_username"":null,""is_nest_scout"":""0"",""TravelersCard"":[]},""Pokemon"":{""species_id"":""77"",""identifier"":""ponyta"",""type_1_id"":""10"",""type_2_id"":""0"",""id"":""77"",""Type1"":{""id"":""10"",""title"":""fire"",""background_hex"":""e65822"",""background_hex_2"":""ffff00"",""font_hex"":""ffffff"",""created"":""0000-00-00 00:00:00"",""modified"":""0000-00-00 00:00:00""}},""is_verification_report"":1}},""usersVote"":0,""userVerifiedAfterLastMigration"":0,""userAlreadyVoted"":0,""success"":1,""nestData"":{""Nest"":{""id"":""1"",""pokemon_id"":""54"",""user_id"":""149"",""latitude"":""40.80665160"",""longitude"":""-73.96793560"",""avg_spotted_count"":""7"",""avg_visit_duration"":""26"",""avg_location_rating"":""4"",""is_cluster"":""1"",""is_repeater"":""0"",""status"":""2"",""spawn_type"":""0"",""current_species"":""54"",""trolled_species"":null,""trolled_status"":null,""is_trolls"":""0"",""created"":""2016-07-25 05:08:11"",""modified"":""2018-06-14 00:09:24"",""user_id_hex"":""Traveler #95"",""modified_date"":""Jul 25"",""modified_year"":""2016"",""original_pokemon_id"":""77""},""User"":{""id"":""149"",""username"":""MissingNo."",""in_game_username"":null,""TravelersCard"":[],""display_name"":""Traveler #95""},""Pokemon"":{""original_identifier"":""ponyta"",""identifier"":""psyduck""}},""usersNestAdvice"":"""",""userAlreadyAddedAdvice"":0,""nestAdvice"":[{""NestAdvice"":{""id"":""19792"",""nest_id"":""1"",""user_id"":""515566"",""note"":""Riverside Park between 125th Street and 96th Street is one large nest. Concentrated spawn points can be found at several locations on the upper level by walking the path along Riverside Dr., including near Grant's Tomb (just north of 122nd St.), near the gym at 116th St., and 108th St. "",""created"":""2018-05-23 06:33:26"",""modified"":""2018-05-23 06:33:26"",""created_timestamp"":1527057206,""created_date"":""May 23"",""created_year"":""2018"",""display_name"":""Mchlw27""},""User"":{""id"":""515566"",""in_game_username"":""Mchlw27"",""TravelersCard"":[{""id"":""12626"",""user_id"":""515566"",""trainer_type_id"":""1"",""avatar_id"":""8"",""gender"":""0"",""skintone"":""1"",""team"":""3"",""xp"":""31000000"",""top_6_pokemon"":""{\""1\"":6,\""2\"":121,\""3\"":145,\""4\"":123,\""5\"":131,\""6\"":143}"",""badge_sort"":""1"",""home_region"":""Columbia University, NYC"",""pokedex_count"":""357"",""playstyle"":""3"",""raid_average"":""9"",""current_goal"":""12"",""is_public"":""1"",""show_trainer_name"":""1"",""show_discords"":""1"",""show_reddit"":""1"",""created"":""2018-01-17 10:32:49"",""modified"":""2018-05-29 07:57:43""}]}}],""loggedIn"":false,""t_level"":0}");

			var parser = new Parser(mock.Object);

			var task = parser.GetMigrationNumber();
			task.Wait();

			var result = task.Result;

			Assert.AreEqual(55, result);
		}
	}
}